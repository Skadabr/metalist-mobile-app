<GridLayout class="background">
    <FlexboxLayout flexDirection="column" class="initial-container">
        <TextField
                hint="Email Address"
                keyboardType="email"
                returnKeyType="next"
                (returnPress)="focusPassword()"
                [(ngModel)]="user.email"
                [isEnabled]="!isAuthenticating"
                autocorrect="false"
                autocapitalizationType="none"
                [class.light]="!isLoggingIn"
                row="0"></TextField>
        <TextField #password
                   hint="Password"
                   secure="true"
                   returnKeyType="done"
                   (returnPress)="submit()"
                   [(ngModel)]="user.password"
                   [isEnabled]="!isAuthenticating"
                   [class.light]="!isLoggingIn"
                   row="1"></TextField>
        <Button
                [text]="isLoggingIn ? 'LOGIN' : 'SIGN UP'"
                [isEnabled]="!isAuthenticating"
                class="submit-button"
                (tap)="submit()"></Button>
        <StackLayout (tap)="toggleDisplay()">
            <Label [text]="isLoggingIn ? 'Sign up here' : 'Back to login'" class="label"></Label>
        </StackLayout>
    </FlexboxLayout>
    <StackLayout #initialContainer
                 class="initial-container">
        <StackLayout #mainContainer
                     class="main-container">


            <GridLayout #formControls
                        class="form-controls"
                        rows="auto, auto"
                        translateY="50">
                <TextField
                        hint="Email Address"
                        keyboardType="email"
                        returnKeyType="next"
                        (returnPress)="focusPassword()"
                        [(ngModel)]="user.email"
                        [isEnabled]="!isAuthenticating"
                        autocorrect="false"
                        autocapitalizationType="none"
                        [class.light]="!isLoggingIn"
                        row="0"></TextField>
                <TextField #password
                           hint="Password"
                           secure="true"
                           returnKeyType="done"
                           (returnPress)="submit()"
                           [(ngModel)]="user.password"
                           [isEnabled]="!isAuthenticating"
                           [class.light]="!isLoggingIn"
                           row="1"></TextField>

                <ActivityIndicator
                        [busy]="isAuthenticating"
                        rowSpan="2"></ActivityIndicator>
            </GridLayout>
            <Button
                    [text]="isLoggingIn ? 'Login' : 'Sign up'"
                    [isEnabled]="!isAuthenticating"
                    class="submit-button"
                    (tap)="submit()"></Button>

            <Label
                    class="forgot-password-label"
                    text="Forgot password?"
                    (tap)="forgotPassword()"
                    [opacity]="isLoggingIn ? 1 : 0"></Label>

            <StackLayout #signUpStack
                         class="sign-up-stack"
                         (tap)="toggleDisplay()"
                         translateY="50">
                <Label
                        [text]="isLoggingIn ? 'Sign up here' : 'Back to login'"></Label>
            </StackLayout>
        </StackLayout>
    </StackLayout>
</GridLayout>